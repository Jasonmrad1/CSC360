<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Women in Parliament – Interactive Globe</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Outfit',sans-serif; background:#fff; color:#333; line-height:1.6; overflow-x:hidden; }
*::-webkit-scrollbar { display:none; }

/* Hero section */
.hero { position:relative; width:100%; height:100vh; overflow:hidden; background:#fff; }
.hero iframe { position:absolute; top:0; left:0; width:100%; height:100%; border:none; }

/* White overlay divs for top and bottom of globe */
.hero-overlay-top, .hero-overlay-bottom {
    position:absolute; left:0; width:100%; height:80px; background:#fff; z-index:9;
}
.hero-overlay-top { top:0; }
.hero-overlay-bottom { bottom:0; }

/* Top overlay navigation */
.overlay-top {
    position:absolute; top:0; width:100%; height:70px; background:rgba(255,255,255,0.95);
    backdrop-filter:blur(10px); z-index:10; display:flex; justify-content:space-between; align-items:center;
    padding:0 40px; border-bottom:1px solid rgba(0,0,0,0.08);
}
.overlay-top h1 { color:#2D2D2D; font-size:1.4em; font-weight:700; }
.overlay-nav { display:flex; gap:32px; }
.overlay-nav a { color:#555; text-decoration:none; font-weight:500; font-size:0.95em; position:relative; padding:8px 0; }
.overlay-nav a:hover { color:royalblue; }

/* Main content */
main { max-width:1200px; margin:80px auto; padding:0 40px; }
.content-header { text-align:center; margin-bottom:60px; }
.content-header h2 { font-size:2.2em; font-weight:700; color:#2D2D2D; margin-bottom:16px; }
.content-header p { color:#666; font-size:1.1em; max-width:600px; margin:0 auto; }

.stats-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:24px; margin:60px 0; }
.stat-card { background:rgba(255,255,255,0.95); backdrop-filter:blur(10px); padding:32px; border-radius:16px; border:1px solid rgba(0,0,0,0.08); text-align:center; transition:transform 0.3s ease,border-color 0.3s ease; cursor:pointer; }
.stat-card:hover { transform:translateY(-2px); border-color:rgba(0,0,0,0.15); }
.stat-number { font-size:2.5em; font-weight:700; color:royalblue; margin-bottom:8px; }
.stat-label { color:#666; font-weight:500; font-size:0.95em; }

/* Chart sections */
.chart-section { margin-bottom:80px; background:rgba(255,255,255,0.95); backdrop-filter:blur(10px); border-radius:16px; border:1px solid rgba(0,0,0,0.08); padding:40px; transition:transform 0.3s ease,border-color 0.3s ease; cursor:pointer; }
.chart-section:hover { transform:translateY(-2px); border-color:rgba(0,0,0,0.15); }
.chart-section h3 { margin-bottom:16px; color:#2D2D2D; font-weight:700; font-size:1.5em; display:flex; align-items:center;}
.chart-section h3::before { content:''; width:4px; height:24px; background:royalblue; border-radius:2px; display:inline-block; margin-right:12px; }
.chart-description { color:#666; font-weight:400; line-height:1.6; margin-bottom:24px; text-align:left; }
.chart-image { width:100%; height:500px; object-fit:cover; border-radius:12px; }

/* Zoom overlay */
.chart-overlay {
    position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7);
    display:none; justify-content:center; align-items:center; z-index:1000; padding:20px;
}
.chart-overlay.active { display:flex; overflow:hidden; }
.overlay-content {
    background:#fff; border-radius:12px; width:90%; max-width:950px; padding:20px 30px 30px; display:flex; flex-direction:column; max-height:90vh; overflow-y:auto;
}
.overlay-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
.overlay-header h3 { font-size:1.5em; color:#2D2D2D; font-weight:700; }
.close-btn { font-size:1.7em; cursor:pointer; color:#333; }
.zoom-chart { width:100%; height:55vh; object-fit:contain; border-radius:12px; margin-bottom:20px; }
.zoom-text { font-size:1.05em; line-height:1.8; color:#333; text-align:left; }

/* Footer */
/* Footer */
footer {
    width: 100%;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(10px);
    color: #666;
    text-align: center;
    padding: 40px 0;
    margin-top: 100px;
    border-top: 1px solid rgba(0,0,0,0.08);
    font-size: 1em;
    line-height: 1.6;
}

footer a {
    color: royalblue;
    text-decoration: none;
    font-weight: 500;
    position: relative;
    word-break: break-word; /* prevent long URLs from overflowing */
}


/* Make chart images responsive on small screens */
@media(max-width:600px) {
    .chart-image {
        height: auto;        /* Let height adjust automatically */
        max-height: 70vh;    /* Optional: limit max height to viewport */
        width: 100%;         /* Fill container width */
        object-fit: cover; /* Ensure entire SVG fits without cropping */
    }
    .chart-section {
        padding: 0px;       /* reduce padding to fit smaller screens */
    }
}

@media(min-width:1700px) {
    .overlay-content {
        max-width: 1200px; /* Make the popup wider on large screens */
    }
}
@media(max-width:1350px) {
  .hero-overlay-top {
    height: 87px;
  }
}

@media(max-width:768px) {
    .overlay-top { padding:0 24px; }
    .overlay-nav { gap:10px; }
    .overlay-top h1 { font-size:1.2em; }
    main { padding:0 24px; margin:60px auto; }
    .chart-section { padding:24px; }
    .content-header h2 { font-size:1.8em; }
    .stats-grid { grid-template-columns:1fr; }
    .chart-image { height:300px; }
    .zoom-chart { height:40vh; }
    .hero-overlay-bottom{
        height: 110px;
    }
    footer {
    padding: 30px 20px;
    font-size: 0.95em;
    }
    footer p {
        margin: 0 auto;
        max-width: 90%; /* keep text centered and narrow */
    }
}
@media(max-width:550px) {
  .hero-overlay-top {
    height: 102px;
  }
    footer {
        padding: 20px 15px;
        font-size: 0.9em;
    }
    footer a {
        display: inline-block;
        margin-top: 5px;
    }
}
</style>
</head>
<body>

<section id="hero" class="hero">
    <iframe src="https://ourworldindata.org/grapher/women-political-participation-index?country=LBN~OWID_ASI~ARM&mapSelect=LBN~OWID_ASI~ARM&globe=1&globeRotation=37.17%2C40.82&globeZoom=1&tab=map" loading="lazy" allow="web-share; clipboard-write"></iframe>

    <!-- White overlays to hide text on top and bottom -->
    <div class="hero-overlay-top"></div>
    <div class="hero-overlay-bottom"></div>

    <div class="overlay-top">
        <h1>Women in Parliament</h1>
        <nav class="overlay-nav">
            <a href="#hero">Home</a>
            <a href="#charts">Charts</a>
            <a href="#about">About</a>
        </nav>
    </div>
</section>

<main id="charts">
    <div class="content-header">
        <h2>Global Political Representation</h2>
        <p>Exploring the progress and challenges of women's participation in parliamentary systems worldwide</p>
    </div>

    <div class="stats-grid">
        <div class="stat-card"><div class="stat-number">26.5%</div><div class="stat-label">Global Average of Women in Parliament</div></div>
        <div class="stat-card"><div class="stat-number">61</div><div class="stat-label">Countries with Gender Quotas</div></div>
        <div class="stat-card"><div class="stat-number">+8.1%</div><div class="stat-label">Increase Since 2010</div></div>
    </div>

    <section class="chart-section" data-src="visuals/projection_women_rep_parliament.svg" data-title="Global Representation Trends" data-desc="This chart shows the evolution of women's parliamentary representation across regions from 1990 to 2025.">
        <h3>Global Representation Trends</h3>
        <p class="chart-description">Tracking the evolution of women's parliamentary representation across regions over time.</p>
        <img src="visuals/projection_women_rep_parliament.svg" alt="Global representation trends chart" class="chart-image">
    </section>

    <section class="chart-section" data-src="visuals/women-arab-vs-lebanon-avg.svg" data-title="Arab vs Lebanon Average">
        <h3>Arab vs Lebanon Average</h3>
        <p class="chart-description">Comparing Lebanon’s women's parliamentary representation with regional averages.</p>
        <img src="visuals/women-arab-vs-lebanon-avg.svg" alt="Arab vs Lebanon Average" class="chart-image">
    </section>
</main>

<!-- Zoom Overlay -->
<div class="chart-overlay" id="chartOverlay">
    <div class="overlay-content">
        <div class="overlay-header">
            <h3 id="descTitle"></h3>
            <div class="close-btn" id="closeOverlay">&times;</div>
        </div>
        <img id="zoomChart" class="zoom-chart" src="" alt="Zoom Chart">
        <div id="descText" class="zoom-text"></div>
    </div>
</div>

<footer>
    <p>&copy; 2025 Women in Parliament Dashboard. Data source: <a href="https://ourworldindata.org/">Our World in Data</a>.</p>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
const chartSections = document.querySelectorAll('.chart-section');
const chartOverlay = document.getElementById('chartOverlay');
const overlayContent = document.querySelector('.overlay-content');
const zoomChart = document.getElementById('zoomChart');
const descTitle = document.getElementById('descTitle');
const descText = document.getElementById('descText');
const closeOverlayBtn = document.getElementById('closeOverlay');

function openOverlay(src, title, description) {
    zoomChart.src = src;
    descTitle.textContent = title;
    descText.textContent = description;
    chartOverlay.classList.add('active');
    document.body.style.overflow='hidden';
    gsap.fromTo(zoomChart, {y:50, scale:0.8, opacity:0}, {y:0, scale:1, opacity:1, duration:0.6, ease:"power3.out"});
    gsap.fromTo(descText, {y:50, opacity:0}, {y:0, opacity:1, duration:0.6, delay:0.1, ease:"power3.out"});
}

function closeOverlay() {
    gsap.to(chartOverlay, {opacity:0, duration:0.4, onComplete: () => {
        chartOverlay.classList.remove('active');
        chartOverlay.style.opacity = 1;
        document.body.style.overflow='auto';
        zoomChart.src = '';
    }});
}

// Open overlay on chart click
chartSections.forEach(section => {
    section.addEventListener('click', () => {
        const src = section.dataset.src;
        const title = section.dataset.title;
        const description = section.dataset.desc; // <-- get description from HTML
        openOverlay(src, title, description);
    });
});

// Close overlay on close button
closeOverlayBtn.addEventListener('click', closeOverlay);

// Close overlay if clicked outside the content
chartOverlay.addEventListener('click', (e) => {
    if (!overlayContent.contains(e.target)) {
        closeOverlay();
    }
});
</script>
</body>
</html>
