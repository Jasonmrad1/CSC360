<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Women in Parliament – Interactive Globe</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
* { margin:0; padding:0; box-sizing:border-box;}
body { font-family:'Outfit',sans-serif; background:#fff; color:#333; line-height:1.6; overflow-x:hidden; }
*::-webkit-scrollbar { display:none; }

html {
    scroll-behavior: smooth;
}

.hero { position:relative; width:100%; height:100vh; overflow:hidden; background:#fff; }
.hero iframe { position:absolute; top:0; left:0; width:100%; height:100%; border:none; }

.hero-overlay-top, .hero-overlay-bottom {
    position:absolute; left:0; width:100%; height:80px; background:#fff; z-index:9;
}
.hero-overlay-top { top:0; }
.hero-overlay-bottom { bottom:0; }

.overlay-top {
    position:absolute; top:0; width:100%; height:70px; background:rgba(255,255,255,0.95);
    backdrop-filter:blur(10px); z-index:10; display:flex; justify-content:space-between; align-items:center;
    padding:0 40px; border-bottom:1px solid rgba(0,0,0,0.08);
}
.overlay-top h1 { color:#2D2D2D; font-size:1.4em; font-weight:700; }
.overlay-nav { display:flex; gap:32px; }
.overlay-nav a { color:#555; text-decoration:none; font-weight:500; font-size:0.95em; position:relative; padding:8px 0; transition: color 0.3s ease; }
.overlay-nav a:hover { color:royalblue; }

#hero, #charts {
    scroll-margin-top: 80px;
}

 main { max-width:1200px; margin:80px auto; padding:0 40px; }
.content-header { text-align:center; margin-bottom:60px; }
.content-header h2 { font-size:2.2em; font-weight:700; color:#2D2D2D; margin-bottom:16px; }
.content-header p { color:#666; font-size:1.1em; max-width:600px; margin:0 auto; }

.stats-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:24px; margin:60px 0; }
.stat-card { background:rgba(255,255,255,0.95); backdrop-filter:blur(10px); padding:32px; border-radius:16px; border:1px solid rgba(0,0,0,0.08); text-align:center; transition:transform 0.3s ease,border-color 0.3s ease; cursor:pointer; }
.stat-card:hover { transform:translateY(-2px); border-color:rgba(0,0,0,0.15); }
.stat-number { font-size:2.5em; font-weight:700; color:royalblue; margin-bottom:8px; }
.stat-label { color:#666; font-weight:500; font-size:0.95em; }


.chart-section { 
    margin-bottom:80px; 
    background:rgba(255,255,255,0.95); 
    backdrop-filter:blur(10px); 
    border-radius:16px; 
    border:1px solid rgba(0,0,0,0.08); 
    padding:40px; 
    transition:transform 0.3s ease,border-color 0.3s ease; 
    cursor:pointer; 
    display: flex;
    flex-direction: column;
}
.chart-section:hover { transform:translateY(-2px); border-color:rgba(0,0,0,0.15); }
.chart-section h3 { margin-bottom:16px; color:#2D2D2D; font-weight:700; font-size:1.5em; display:flex; align-items:center;}
.chart-section h3::before { content:''; width:4px; height:24px; background:royalblue; border-radius:2px; display:inline-block; margin-right:12px; }
.chart-description { color:#666; font-weight:400; line-height:1.6; margin-bottom:24px; text-align:left; }


.chart-image { 
    width:100%; 
    height:500px; 
    object-fit:cover; 
    border-radius:12px; 
}


.chart-overlay {
    position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7);
    display:none; justify-content:center; align-items:center; z-index:1000; padding:20px;
}
.chart-overlay.active { display:flex; overflow:hidden; }
.overlay-content {
    background:#fff; border-radius:12px; width:90%; max-width:950px; padding:20px 30px 30px; display:flex; flex-direction:column; max-height:90vh; overflow-y:auto;
}
.overlay-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
.overlay-header h3 { font-size:1.5em; color:#2D2D2D; font-weight:700; }
.close-btn { font-size:1.7em; cursor:pointer; color:#333; transition: color 0.2s ease; }
.zoom-chart { width:100%; height:auto; max-height: 60vh; object-fit:contain; border-radius:12px; margin-bottom:20px; }
.zoom-text { font-size:1.05em; line-height:1.8; color:#333; text-align:left; }


footer {
    width: 100%;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(10px);
    color: #666;
    text-align: center;
    padding: 40px 0;
    margin-top: 100px;
    border-top: 1px solid rgba(0,0,0,0.08);
    font-size: 1em;
    line-height: 1.6;
}

footer a {
    color: royalblue;
    text-decoration: none;
    font-weight: 500;
    position: relative;
    word-break: break-word;
}


@media(min-width:1700px) {
    .overlay-content {
        max-width: 1050px;
    }
}

@media(max-width:1350px) {
  .hero-overlay-top {
    height: 87px;
  }
}

@media(max-width:768px) {
    a, button, input, textarea {
        outline: none;
        -webkit-focus-ring-color: transparent;
    }
    *{
        -webkit-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent; 
    }
    *::selection {
        background: transparent;
        color: inherit;
    }
    *::-moz-selection {
        background: transparent;
        color: inherit;
    }

    .overlay-top { 
        padding:0 24px; 
    }
    .overlay-nav { 
        gap:10px; 
    }
    .overlay-top h1 { font-size:1.2em; }
    main { padding:0 24px; margin:60px auto; }
    .chart-section { 
        padding: 24px;
        margin-bottom: 50px;
    }
    .content-header h2 { font-size:1.8em; }
    .stats-grid { grid-template-columns:1fr; }
    
    .chart-image { 
        height: auto; 
        max-height: 70vh;
        width: 100%;
        object-fit: contain;
    }
    
    .chart-overlay {
        padding: 5px;
        background: rgba(0,0,0,0.85);
    }
    .overlay-content {
        width: 99%;
        max-width: none;
        padding: 10px 15px 15px;
        max-height: 98vh;
    }
    .zoom-chart { 
        max-height: 75vh;
        background: #f8f9fa;
        padding: 10px;
        border-radius: 8px;
    }
    
    .overlay-header h3 {
        font-size: 1.2em;
    }
    .zoom-text {
        font-size: 0.95em;
        line-height: 1.6;
    }
    
    .hero-overlay-bottom{
        height: 110px;
    }
    footer {
        padding: 30px 20px;
        font-size: 0.95em;
    }
    footer p {
        margin: 0 auto;
        max-width: 90%;
    }
}

@media (hover: hover) {
  .overlay-nav a:hover {
    color: royalblue;
  }
}

/* Mobile tap */
@media (hover: none) {
  .overlay-nav a:active {
    color: royalblue;
  }
}

@media(max-width:600px) {
    .chart-section h3 {
        font-size: 1.3em;
    }
    .chart-description {
        font-size: 0.95em;
    }
    .chart-section {
        padding: 20px;
    }
    
    .overlay-header h3 {
        font-size: 1.1em;
    }
    .zoom-text {
        font-size: 0.9em;
    }
}

@media(max-width:550px) {
    .hero-overlay-top {
        height: 102px;
    }
    footer {
        padding: 20px 15px;
        font-size: 0.9em;
    }
    footer a {
        display: inline-block;
        margin-top: 5px;
    }
    .chart-section {
        padding: 15px;
    }
    .overlay-content {
        height: 50vh;
        padding: 8px 12px 12px;
    }
}

@media(max-width:400px) {
    .overlay-top h1 {
        font-size: 1.1em;
    }
    .overlay-nav a {
        font-size: 0.9em;
    }
    .content-header h2 {
        font-size: 1.6em;
    }
    .chart-section h3 {
        font-size: 1.2em;
    }
    
    .overlay-header h3 {
        font-size: 1.0em;
    }
    .zoom-text {
        font-size: 0.8em;
        line-height: 1.5;
    }
}

</style>
</head>
<body>

<section id="hero" class="hero">
<iframe 
  src="https://ourworldindata.org/grapher/women-political-participation-index?country=OWID_WRL&mapSelect=LBN&globe=1&globeRotation=35%2C33.8&globeZoom=1&tab=map&mapBackground=white" 
  loading="lazy" 
  allow="web-share; clipboard-write" 
  style="width:100%; height:100%; border:none;"
></iframe>

    <div class="hero-overlay-top"></div>
    <div class="hero-overlay-bottom"></div>

    <div class="overlay-top">
        <h1>Women in Parliament</h1>
        <nav class="overlay-nav">
            <a href="#hero">Home</a>
            <a href="#charts">Charts</a>
            <a href="#about">About</a>
        </nav>
    </div>
</section>

<main id="charts">
    <div class="content-header">
        <h2>Global Political Representation</h2>
        <p>Exploring the progress and challenges of women's participation in parliamentary systems worldwide</p>
    </div>

    <div class="stats-grid">
        <div class="stat-card"><div class="stat-number">26.5%</div><div class="stat-label">Global Average of Women in Parliament</div></div>
        <div class="stat-card"><div class="stat-number">61</div><div class="stat-label">Countries with Gender Quotas</div></div>
        <div class="stat-card"><div class="stat-number">+8.1%</div><div class="stat-label">Increase Since 2010</div></div>
    </div>

    <section class="chart-section" data-src="visuals/projection_women_rep_parliament.svg" data-title="Arab Average Projection" data-desc-long="This chart shows a 10-year forecast of women’s parliamentary representation in the Arab region. Historical data from 2000 to 2024 demonstrates steady progress, while multiple projection models—including polynomial, logistic, and scenario-based approaches—indicate continued growth. By 2035, women may hold up to 25% of parliamentary seats. The shaded area represents the uncertainty range, reflecting potential variations depending on political reforms, institutional support, and societal engagement. The visualization highlights both past gains and future potential for women’s political participation."
    data-desc-short="Women’s parliamentary representation in the Arab region is projected to rise steadily over the next 10 years, reaching roughly 25% by 2035. Growth is supported by historical trends and various projection models.">
        <h3>Arab Average Projection</h3>
        <p class="chart-description">Tracking the realistic forecast of women’s parliamentary representation in the Arab region over the next decade</p>
        <img src="visuals/projection_women_rep_parliament.svg" alt="Global representation trends chart" class="chart-image">
    </section>

    <section class="chart-section" data-src="visuals/women-arab-vs-lebanon-avg.svg" data-title="Arab vs Lebanon Average" data-desc-long="Over the past three decades, women’s parliamentary representation across the Arab region has followed a steady upward trend, rising from just 3% in the late 1990s to nearly 18% by 2024. This growth reflects gradual reforms, the introduction of gender quotas, and stronger institutional support for women’s political participation.<br><br>Lebanon, in contrast, shows a flatter and more irregular pattern. Representation stayed at 2–3% for many years, with only small, stepwise increases linked to specific election outcomes. By 2024, women held just 6.2% of seats—about one-third of the Arab average—revealing a widening gap. The chart highlights that while regional progress has been driven by structural reforms, Lebanon has yet to adopt systemic measures to ensure consistent improvement."
        data-desc-short="Women’s parliamentary representation in the Arab region rose to nearly 18% by 2024, but Lebanon lags behind at just 6.2%. Unlike regional reforms and quotas, Lebanon’s progress comes only from scattered election results.">
        <h3>Arab vs Lebanon Average</h3>
        <p class="chart-description">Comparing Lebanon's women's parliamentary representation with regional averages.</p>
        <img src="visuals/women-arab-vs-lebanon-avg.svg" alt="Arab vs Lebanon Average" class="chart-image">
    </section>
      <section class="chart-section" data-src="visuals/arab_vs_world_women_rep.svg" data-title="World vs Arab Average" data-desc-long="This graph titled World vs Arab Average offers a visual comparison of women's parliamentary representation in Lebanon against global and Arab regional averages over a 26-year span (1995–2021). The turquoise line represents the steady global rise in female political participation, while the purple line tracks the Arab region's slower but upward trend. Lebanon's data, though not explicitly charted, is implied to fall below both averages, underscoring a significant disparity in gender inclusion within its political system. The shaded area between the two lines emphasizes an 8.2% gap between global and Arab averages, reinforcing the urgency for policy reform and advocacy to elevate women roles in governance across the region."
        data-desc-short="This graph compares Lebanon’s percentage of women in parliament to global and Arab regional averages from 1995 to 2021. It highlights the persistent gap in gender representation, with Lebanon trailing behind both benchmarks.">
        <h3>World vs Arab Average</h3>
        <p class="chart-description">Closing the Gap: Women's Political Representation in Lebanon vs Global and Arab Averages</p>
        <img src="visuals/arab_vs_world_women_rep.svg" alt="World vs Arab Average" class="chart-image">
    </section>
      <section class="chart-section" data-src="visuals/women-parliament-key-arab-countries.svg" data-title="Arab Women in Politics" data-desc-long="This line graph titled 'Women in Parliament (%) – Key Arab Countries vs Arab Average' presents a comparative view of female parliamentary representation across Lebanon, Saudi Arabia, Egypt, and Morocco from 2000 to 2020. Each country is represented by a distinct line, alongside a dashed line for the Arab regional average. The data highlights Morocco's notable rise in women's political participation, while Lebanon's figures remain relatively stagnant. Saudi Arabia and Egypt show moderate growth, reflecting broader regional efforts toward gender inclusion. The graph serves as a visual narrative of uneven progress, emphasizing the importance of sustained policy reforms and advocacy to empower women in Arab political systems."
        data-desc-short="This graph illustrates the percentage of women in parliament from 2000 to 2020 across Lebanon, Saudi Arabia, Egypt, Morocco, and the Arab regional average. It reveals varied progress, with Morocco leading the way and Lebanon showing minimal change.">
        <h3>Arab Women in Politics</h3>
        <p class="chart-description">Tracking two decades of change in women's parliamentary representation across key Arab nations.</p>
        <img src="visuals/women-parliament-key-arab-countries.svg" alt="Arab Women in Politics" class="chart-image">
    </section>
      <section class="chart-section" data-src="visuals/growth_women_rep_parliament.svg" data-title="Parliamentary Gender Shift" data-desc-long="This bar chart titled “Growth in Women Representation in Parliament – Last 10 Years” shows the change in the proportion of women in parliamentary seats across Arab countries. While the United Arab Emirates, Comoros, and Djibouti demonstrate significant gains, with the UAE leading at a 32.5% increase, some nations such as Algeria and Tunisia have seen notable declines. The visualization highlights the uneven progress toward gender inclusion in politics, underlining the importance of policy reforms and sustained advocacy for women’s political empowerment across the Arab region."
        data-desc-short="This chart highlights the growth or decline in women’s parliamentary representation over the past decade, with the UAE leading in gains and countries like Algeria experiencing setbacks.">
        <h3>Parliamentary Gender Shift</h3>
        <p class="chart-description">Tracking two decades of change in women's parliamentary representation across key Arab nations.</p>
        <img src="visuals/growth_women_rep_parliament.svg" alt="Parliamentary Gender Shift" class="chart-image">
    </section>
    </section>
     <section class="chart-section">
    <h3>Women Candidates by District</h3>
    <p class="chart-description">Visualizing where women candidates ran during the 2022 Lebanese elections.</p>

    <div class="dual-chart">
        <img src="visuals/lebanese-women-seats.png" 
             alt="Female Candidates Donut Chart" 
             class="chart-image">

        <img src="visuals/lebanese-women-candidates.png" 
             alt="Lebanon Map Female Candidates" 
             class="chart-image">
    </div>
</section>
<section class="chart-section" style=" text-align: center;padding: 40px 20px;background: transparent;" id="charts">
  <h3>Women in Lebanon</h3>
  <p class="chart-description" style="  color: #555;font-size: 0.95em;max-width: 700px;margin: 0 auto 30px;">
    Based on Lebanese parliamentary election data (2022) and contextual estimates.
  </p>

  <div class="pie-grid">
    <!-- Chart 1 -->
    <div class="pie">
      <canvas id="chart1"></canvas>
      <p class="pie-title">Women MPs by Political Affiliation – Lebanon</p>
    </div>

    <!-- Chart 2 -->
    <div class="pie">
      <canvas id="chart2"></canvas>
      <p class="pie-title">Educational Background of Female Politicians</p>
    </div>

    <!-- Chart 3 -->
    <div class="pie">
      <canvas id="chart3"></canvas>
      <p class="pie-title">Voter Turnout by Gender – Lebanon</p>
    </div>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600&display=swap" rel="stylesheet">

<script>
  Chart.defaults.font.family = 'Outfit, sans-serif';
  Chart.defaults.font.size = 13;

  const createPieChart = (id, labels, data, colors) => {
    new Chart(document.getElementById(id), {
      type: 'pie',
      data: {
        labels,
        datasets: [{
          data,
          backgroundColor: colors,
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false, // allows fixed radius
        layout: { padding: 0 },
        plugins: {
          legend: {
            display: true,
            position: 'bottom',
            labels: {
              color: '#333',
              boxWidth: 12,
              boxHeight: 12,
              usePointStyle: true,
              pointStyle: 'circle',
              padding: 10,
              font: { family: 'Outfit', size: 13 }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                const value = context.parsed;
                return `${value}%`;
              }
            },
            bodyFont: { family: 'Outfit' }
          }
        },
        elements: {
          arc: { borderWidth: 0 }
        },
        // Force consistent radius
        cutout: 0, // full pie, not donut
        radius: '80%' // make all same size
      }
    });
  };

// Chart 1 – Women MPs by Political Affiliation
createPieChart(
  "chart1",
  ["Independents / Change", "Traditional Parties", "Hezbollah / Amal", "Other Small Parties"],
  [75, 25, 0, 0],
  ["#4169E1", "#6BA7FF", "#89C2FF", "#4A63B4"] // highlight smallest slice
);

// Chart 2 – Educational Background of Female Politicians
createPieChart(
  "chart2",
  ["Law / Political Science", "Medicine / Health", "Academia / Education", "Business / NGOs", "No Tertiary / Other"],
  [35, 20, 15, 20, 10],
  ["#4169E1", "#6BA7FF", "#89C2FF", "#B3DBFF", "#3C5AA8"] // small slice highlight
);

// Chart 3 – Voter Turnout by Gender
createPieChart(
  "chart3",
  ["Women Voters", "Men Voters"],
  [47, 53],
  [ "#4169E1", "#6BA7FF"]
);


</script>


<style>

.pie-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 50px;
  justify-items: center;
  align-items: center;
  margin-top: 30px;
}

.pie {
  width: 100%;
  max-width: 320px;
  aspect-ratio: 1;
  background: none;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.pie canvas {
  width: 100% !important;
  height: 100% !important;
  background: none !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
}

.pie-title {
  margin-top: 12px;
  text-align: center;
  font-weight: 600;
  color: #333;
  font-size: 0.95em;
}

@media (max-width: 768px) {
  .pie-title {
    font-size: 0.9em;
  }
}
</style>


<style>
.dual-chart {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
}


.dual-chart .chart-image {
    width: 49%;
    height: auto;
    border-radius: 12px;
    object-fit: contain;
}

@media (max-width: 768px) {
    .dual-chart .chart-image {
        width: 100%;
    }
}

 .chart-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      max-width: 900px;
      margin: 0 auto;
    }

    canvas {
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 10px;
    }
    /* SDG Section – minimalist & elegant */
.sdg-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 50px;
  margin-top: 40px;
  justify-items: center;
}

.sdg-card.no-bg {
  text-align: center;
  text-decoration: none;
  color: inherit;
  max-width: 320px;
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.sdg-card.no-bg:hover {
  transform: translateY(-6px);
  opacity: 0.9;
}

.sdg-card.no-bg img {
  width: 180px;
  height: 180px;
  object-fit: contain;
  border-radius: 12px;
  margin-bottom: 18px;
  transition: transform 0.3s ease;
}

.sdg-card.no-bg:hover img {
  transform: scale(1.05);
}

.sdg-card.no-bg h4 {
  color: royalblue;
  font-size: 1.1em;
  font-weight: 600;
  margin-bottom: 8px;
}

.sdg-card.no-bg p {
  color: #555;
  font-size: 0.93em;
  line-height: 1.5;
  max-width: 280px;
  margin: 0 auto;
}

@media (max-width: 700px) {
  .sdg-card.no-bg img {
    width: 180px;
    height: 180px;
  }
  .sdg-card.no-bg h4 {
    font-size: 1em;
  }
  .sdg-card.no-bg p {
    font-size: 0.9em;
  }
}

</style>
<section class="chart-section" id="sdgs">
  <h3>Sustainable Development Goal</h3>
  <p class="chart-description">
    Women's political participation reinforces several UN Sustainable Development Goals (SDGs) that promote equality, inclusion, and strong institutions.
  </p>

  <div class="sdg-grid">
    <!-- SDG 5 -->
    <a href="https://sdgs.un.org/goals/goal5" target="_blank" class="sdg-card no-bg">
      <img src="https://sdgs.un.org/sites/default/files/goals/E_SDG_Icons-05.jpg" alt="SDG 5 Gender Equality">
      <h4>SDG 5 – Gender Equality</h4>
      <p>Empowering women in politics ensures equal representation and leadership opportunities, advancing gender equality worldwide.</p>
    </a>

    <!-- SDG 10 -->
    <a href="https://sdgs.un.org/goals/goal10" target="_blank" class="sdg-card no-bg">
      <img src="https://sdgs.un.org/sites/default/files/goals/E_SDG_Icons-10.jpg" alt="SDG 10 Reduced Inequalities">
      <h4>SDG 10 – Reduced Inequalities</h4>
      <p>Inclusive political systems help reduce social and economic disparities, giving all groups a voice in governance.</p>
    </a>

    <!-- SDG 16 -->
    <a href="https://sdgs.un.org/goals/goal16" target="_blank" class="sdg-card no-bg">
      <img src="https://sdgs.un.org/sites/default/files/goals/E_SDG_Icons-16.jpg" alt="SDG 16 Peace, Justice and Strong Institutions">
      <h4>SDG 16 – Peace, Justice & Strong Institutions</h4>
      <p>Balanced representation strengthens democracy, accountability, and the integrity of political institutions.</p>
    </a>
  </div>
</section>


</main>

<footer id="about">
    <p>&copy; 2025 Women in Parliament Dashboard. Data source: <a href="https://ourworldindata.org/">Our World in Data</a>.</p>
</footer>

<div class="chart-overlay" id="chartOverlay">
    <div class="overlay-content">
        <div class="overlay-header">
            <h3 id="descTitle"></h3>
            <div class="close-btn" id="closeOverlay">&times;</div>
        </div>
        <img id="zoomChart" class="zoom-chart" src="" alt="Zoom Chart">
        <div id="descText" class="zoom-text"></div>
    </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
const chartSections = document.querySelectorAll('.chart-section');
const chartOverlay = document.getElementById('chartOverlay');
const overlayContent = document.querySelector('.overlay-content');
const zoomChart = document.getElementById('zoomChart');
const descTitle = document.getElementById('descTitle');
const descText = document.getElementById('descText');
const closeOverlayBtn = document.getElementById('closeOverlay');

function openOverlay(src, title, descriptionShort, descriptionLong) {
    zoomChart.src = src;
    descTitle.textContent = title;

    const isMobile = window.innerWidth <= 767 || /Mobi|Android/i.test(navigator.userAgent);

    descText.innerHTML = isMobile ? (descriptionShort || descriptionLong) : (descriptionLong || descriptionShort);

    chartOverlay.classList.add('active');
    document.body.style.overflow = 'hidden';

    gsap.fromTo(zoomChart, 
        {y:50, scale:0.8, opacity:0}, 
        {y:0, scale:1, opacity:1, duration:0.6, ease:"power3.out"}
    );
    gsap.fromTo(descText, 
        {y:50, opacity:0}, 
        {y:0, opacity:1, duration:0.6, delay:0.1, ease:"power3.out"}
    );
}



function closeOverlay() {
    gsap.to(chartOverlay, {opacity:0, duration:0.4, onComplete: () => {
        chartOverlay.classList.remove('active');
        chartOverlay.style.opacity = 1;
        document.body.style.overflow='auto';
        zoomChart.src = '';
    }});
}

chartSections.forEach(section => {
    section.addEventListener('click', () => {
        const src = section.dataset.src;
        const title = section.dataset.title;
        const descriptionShort = section.dataset.descShort;
        const descriptionLong = section.dataset.descLong;
        if (src && title)
        {
        openOverlay(src, title, descriptionShort, descriptionLong);
    }
    });
});


closeOverlayBtn.addEventListener('click', closeOverlay);

chartOverlay.addEventListener('click', (e) => {
    if (!overlayContent.contains(e.target)) {
        closeOverlay();
    }
});

document.querySelectorAll('.overlay-nav a').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
            targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
</script>
</body>
</html>